{"version":3,"sources":["assets/images/preloader.svg","redux/authReducer.ts","serviceWorker.js","redux/appReducer.js","redux/loginReduce.js","redux/reduxStore.js","components/Common/withSuspense.jsx","Login/Login.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav_Bar/Nav_Bar.jsx","App.js","index.tsx","components/Nav_Bar/Nav_Bar.module.css","Login/Login.module.css","components/Header/Header.module.css","components/API/Api.js","redux/profileReducer.js","redux/usersReducer.js","components/Common/Preloader.jsx","components/Users/Users.module.css","redux/dialogsReducer.js"],"names":["module","exports","initialState","id","login","email","isAuth","captchaUrl","setAuthUserData","type","data","getCaptchaUrl","payload","getCaptchaThunk","dispatch","a","securityAPI","getCaptcha","response","url","setAuthThunk","API","header","resultCode","loginThunk","password","rememberMe","captchaText","loginFormAPI","authLogin","logoutThunk","authLogout","authReducer","state","action","Boolean","window","location","hostname","match","initialized","appReducer","userProp","loginReducer","userProperty","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","auth","authPage","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Component","props","fallback","Preloader","connect","validationSchema","yup","shape","required","nullable","captcha","src","name","htmlFor","to","className","s","loginArcticle","initialValues","onSubmit","values","errors","touched","isValid","dirty","inputGroup1","placeholder","reqMark1","Header","login1","nickname","logout","onClick","HeaderContainer","this","React","Nav_Bar","nav","item","activeClassName","active","item1","item2","DialogsContainer","lazy","UsersContainer","Music","Settings","News","ProfileContainer","App","initializeApp","exact","from","path","render","Login","AppContainer","withRouter","then","MyJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","instance","axios","withCredentials","baseURL","headers","getUsers","activePage","pageSize","get","follow","post","n","unfollow","delete","getFriend","friend","profile","userId","profileAPI","profileStatus","statusText","put","status","getStatus","saveAvatar","file","formData","FormData","append","changeProfileData","user","about","avatar","posts","postId","likesCount","userPage","addPostActionCreator","text","postText","deletePost","setUserProfile","setStatus","profileThunk","getStatusThunk","updateStatusThunk","photos","saveProfile","getState","filter","p","users","totalUsersCount","isFetching","followingInProgress","toggleFollow","setActivePage","toggleIsFetching","toggleFollowingInProgress","items","totalCount","followUnfollow","actionCreator","apiMethod","unfollowThunk","bind","followThunk","map","u","followed","preloader","dialogs","messages","addMessageCreator","stateCopy"],"mappings":"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","file":"static/js/main.334dd235.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/preloader.4d137bac.svg\";","import {API, loginFormAPI, securityAPI} from \"../components/API/Api\";\r\n\r\n\r\nconst SET_USER_DATA = 'authReducer/SET_USER_DATA';\r\n\r\nconst GET_CAPTCHA_URL = 'GET_CAPTCHA_URL'\r\n\r\n\r\nexport type InitialStateType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n\r\n}\r\n\r\nlet initialState = {\r\n    id: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n\r\n}\r\nexport type InitialStateType2 = typeof initialState\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType2 => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        }\r\n        case GET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\ntype setAuthUserDataDataType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype setAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    data: setAuthUserDataDataType\r\n}\r\n\r\ntype getCaptchaUrlActionType = {\r\n    type: typeof GET_CAPTCHA_URL\r\n    payload: { captchaUrl: string }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (id: number | null, login: string | null, email: string | null, isAuth: boolean): setAuthUserDataActionType =>\r\n    ({\r\n        type: SET_USER_DATA,\r\n        data: {id, login, email, isAuth}\r\n    });\r\n\r\n\r\nexport const getCaptchaUrl = (captchaUrl: string): getCaptchaUrlActionType => ({\r\n    type: GET_CAPTCHA_URL,\r\n    payload: {captchaUrl}\r\n});\r\n\r\n\r\nexport const getCaptchaThunk = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrl(captchaUrl))\r\n\r\n}\r\nexport const setAuthThunk = () => async (dispatch: any) => {\r\n    let response = await API.header();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true));\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const loginThunk = (email: string | null, password: string | null, rememberMe: boolean | null, captchaText: string | null) => async (dispatch: any) => {\r\n    let response = await loginFormAPI.authLogin(email, password, rememberMe, captchaText)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthThunk());\r\n    } else if (response.data.resultCode === 10) {\r\n        dispatch(getCaptchaThunk())\r\n    }\r\n}\r\n\r\n\r\nexport const logoutThunk = () => async (dispatch: any) => {\r\n\r\n    let response = await loginFormAPI.authLogout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n\r\n}\r\n\r\nexport default authReducer;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {loginThunk} from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n    initialized: null\r\n\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(loginThunk());\r\n    promise.then(() => {\r\n        dispatch(setInitialized())\r\n    })\r\n\r\n}\r\n\r\nexport default appReducer;","import {loginFormAPI} from \"../components/API/Api\";\r\n\r\nconst GET_USER_PROPERTIES = 'GET_USER_PROPERTIES'\r\n\r\nlet initialState = {\r\n    userProp: null\r\n}\r\n\r\n\r\nconst loginReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_USER_PROPERTIES :\r\n            return {\r\n                ...state,\r\n                userProp: action.userProperty.login\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const getUserProperties = (formData) => ({type: GET_USER_PROPERTIES, userProperty: {...formData}})\r\n\r\nexport const loginFormThunk = (userProp) => {\r\n    return (dispatch) => {\r\n        dispatch(getUserProperties(userProp))\r\n        loginFormAPI.authLogin(userProp)\r\n    }\r\n}\r\n\r\n\r\nexport default loginReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer'\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport loginReducer from \"./loginReduce\";\r\nimport appReducer from \"./appReducer\";\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    authPage: loginReducer,\r\n    app: appReducer\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store","import React, {Suspense} from \"react\";\r\nimport Preloader from \"./Preloader\";\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n      return (\r\n        <Suspense fallback={<div><Preloader /></div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n      )\r\n\r\n    };\r\n}\r\n\r\nexport default withSuspense","import React from \"react\";\r\nimport {Formik, Field, Form} from 'formik';\r\nimport {loginFormAPI} from \"../components/API/Api\";\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptchaThunk, getCaptchaUrl, loginThunk, setAuthThunk} from \"../redux/authReducer\";\r\nimport * as yup from \"yup\";\r\nimport s from \"./Login.module.css\"\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const validationSchema = yup.object().shape({\r\n        email: yup.string()\r\n            .email(\"Invalid email\")\r\n            .required(\"Required\").nullable(),\r\n        password: yup.string()\r\n            .required(\"Required\")\r\n\r\n    });\r\n\r\n    const captcha = () => {\r\n        if (props.captchaUrl)\r\n        {return <div>\r\n            <img src={props.captchaUrl}/>\r\n            <br></br>\r\n            <Field name=\"captchaText\"\r\n                   type=\"text\"\r\n                   id=\"captchaText\"\r\n            />\r\n            <label htmlFor=\"captchaText\">Введите капчу:</label>\r\n\r\n           </div>}\r\n        else {\r\n            return null\r\n        }\r\n\r\n\r\n    }\r\n    props.setAuthThunk()\r\n\r\n    if (props.isAuth) {\r\n       return <Redirect to=\"/profile\" />\r\n    }\r\n\r\n    return <>\r\n        <h1 className={s.loginArcticle}>Войдите в свой аккаунт</h1>\r\n        <Formik\r\n            initialValues={{\r\n                email: null,\r\n                password: null,\r\n                rememberMe: false,\r\n                captchaText: ''\r\n\r\n            }}\r\n\r\n            validationSchema={validationSchema}\r\n\r\n            onSubmit={(values) => {\r\n                props.loginThunk(values.email, values.password, values.rememberMe, values.captchaText)\r\n\r\n            }}\r\n        >\r\n\r\n\r\n            {({values, errors, touched, isValid,dirty}) => (\r\n                <Form>\r\n<div>{captcha}</div>\r\n                    <div className={s.inputGroup1}>\r\n                        <Field name=\"email\"\r\n                               placeholder=\"Введите вашу почту\"\r\n                               type=\"email\"\r\n                               id=\"email\"\r\n                        />\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <div className={s.reqMark1}></div>\r\n\r\n                        <br></br>\r\n\r\n                    </div>\r\n\r\n                    <div className={s.inputGroup1}>\r\n                        <Field name=\"password\"\r\n                               placeholder=\"Введите вашу почту\"\r\n                               type=\"password\"\r\n                               id=\"password\"\r\n                        />\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <div className={s.reqMark1}></div>\r\n\r\n                        <br></br>\r\n                    </div>\r\n                    <label htmlFor=\"rememberMe\">\r\n                        <Field type=\"checkbox\" name=\"rememberMe\"/>\r\n                        Запомнить меня\r\n                    </label>\r\n                    <br></br>\r\n                    <div> {captcha()}</div>\r\n\r\n\r\n                    <button type={\"submit\"} className={s.login}> Залогиниться</button>\r\n\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {loginThunk,getCaptchaThunk,setAuthThunk})(LoginForm)\r\n","import React from \"react\";\r\nimport s from '../Header/Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Header = (props) => {\r\n\r\n    return (<>\r\n\r\n\r\n        <header className={s.header}>\r\n             <img src='https://smajlik.ru/wp-content/uploads/2017/12/2-1024x816.png'/>\r\n\r\n            {props.isAuth ? <div className={s.login1}> <p className={s.nickname}>{props.login}</p> <button className={s.logout} onClick={props.logoutThunk}> выйти </button></div> :  <NavLink to={'/login'} className={s.login} >\r\n                Войти\r\n            </NavLink>  }\r\n\r\n        </header>\r\n</>\r\n    );\r\n\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {loginThunk, logoutThunk, setAuthUserData} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header {...this.props}/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, loginThunk,logoutThunk})(HeaderContainer);\r\n","import React from \"react\";\r\nimport s from '../Nav_Bar/Nav_Bar.module.css';\r\nimport {NavLink, } from \"react-router-dom\";\r\nconst Nav_Bar = () => {\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.active}>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/dialogs\" activeClassName={s.active}>\r\n                    Messages\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/news\" activeClassName={s.active}>\r\n                    News\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/music\" activeClassName={s.active}>\r\n                    Music\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.item1}>\r\n                <NavLink to =\"/users\" activeClassName={s.active}>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n            <div className={s.item1}>\r\n                <NavLink to =\"/settings\" activeClassName={s.active}>\r\n                    Settings\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={s.item2}>\r\n            </div>\r\n        </nav>\r\n    );\r\n\r\n}\r\n\r\nexport default Nav_Bar;\r\n","import React from 'react';\nimport './App.css';\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport {logoutThunk, setAuthUserData} from \"./redux/authReducer\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport store from \"./redux/reduxStore\";\nimport withSuspense from \"./components/Common/withSuspense\";\nimport Login from \"./Login/Login\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Nav_Bar from \"./components/Nav_Bar/Nav_Bar\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\n\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\nconst Music = React.lazy(() => import(\"./components/Music/Music\"));\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\nconst News = React.lazy(() => import(\"./components/News/News\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        return this.props.initialized ?\n            <div className='app-wrapper'>\n                <HeaderContainer {...this.props}/>\n                <Nav_Bar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Redirect exact from=\"/\" to=\"/profile\" />\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/music' render={withSuspense(Music)}/>\n                        <Route path='/news' render={withSuspense(News)}/>\n                        <Route path='/settings' render={withSuspense(Settings)}/>\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        <Route path='*' render={() => <div> 404 not found</div>}/>\n\n                    </Switch>\n                </div>\n            </div> : null\n\n\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login,\n        initialized: state.app.initialized\n\n    }\n}\n\nlet AppContainer = compose(withRouter,\n    connect(mapStateToProps,\n        {setAuthUserData, initializeApp, logoutThunk}))(App);\n\nconst MyJSApp = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default MyJSApp\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport MyJSApp from \"./App\";\n\n\nReactDOM.render(<MyJSApp/>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_Bar_nav__1RCbo\",\"item\":\"Nav_Bar_item__3obiH\",\"active\":\"Nav_Bar_active__2-1PL\",\"item1\":\"Nav_Bar_item1__fTckr\",\"item2\":\"Nav_Bar_item2__3aUSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginArticle\":\"Login_loginArticle__3ctyU\",\"inputGroup1\":\"Login_inputGroup1__2ahev\",\"reqMark1\":\"Login_reqMark1__3ilqa\",\"login\":\"Login_login__1jj1p\",\"disableLogin\":\"Login_disableLogin__1eS0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__NXp6m\",\"login1\":\"Header_login1__1Bzsc\",\"nickname\":\"Header_nickname__3Emkt\",\"logout\":\"Header_logout__13zZl\",\"login\":\"Header_login__1lorW\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': 'a192ecc9-3a69-47da-b1c4-eb1137d2209a'\r\n    }\r\n});\r\n\r\n\r\nexport const API = {\r\n    getUsers(activePage, pageSize) {\r\n        return instance.get(`users?page=${activePage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(n => {\r\n            return n\r\n        })\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(n => {\r\n            return n\r\n        })\r\n\r\n    },\r\n    getFriend(friend, pageSize) {\r\n        return instance.get(`users?friend=${friend}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    header() {\r\n        return instance.get(`auth/me`).then(n => {\r\n            return n\r\n        })\r\n    },\r\n    profile(userId) {\r\n        return profileAPI.profile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    profile(userId) {\r\n        return instance.get(`profile/` + userId).then(n => {\r\n            return n\r\n        })\r\n    },\r\n    profileStatus(statusText) {\r\n        return instance.put(`profile/status/`, {status: statusText})\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    saveAvatar(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n        return instance.put(`profile/photo`, formData, {headers: {'Content-Type': 'multipart/form-data'}}\r\n        );},\r\n    changeProfileData(values){\r\n        return instance.put(`profile`, values)\r\n    }\r\n}\r\n\r\n\r\nexport const loginFormAPI = {\r\n    authLogin(email,password, rememberMe,captcha = null) {\r\n        return instance.post(`auth/login`,\r\n        {email, password, rememberMe, captcha}\r\n        )\r\n    },\r\n    authLogout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url` )\r\n\r\n    }\r\n}","import {API, profileAPI} from \"../components/API/Api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PAGE = 'SET_USER_PAGE';\r\nconst SET_STATUS_TEXT = 'SET_STATUS_TEXT';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n\r\n    user: [\r\n        {\r\n            about: \"Date of Birth: 21.08.2004\" +\r\n                \"City: Ekb\" +\r\n                \"Education: none\" +\r\n                \"Web site: http://localhost:3000/\",\r\n            id: 2, name: 'Kolya', avatar: 'https://cdn1.flamp.ru/cfdf66132b3994cd538e328a62eca0d8.jpg'\r\n        },\r\n        {\r\n            about: \"Date of Birth: 10.11.2000\" +\r\n                \"City: Ekb\" +\r\n                \"Education: yes\" +\r\n                \"Web site: http://localhost:3000/\",\r\n            id: 3,\r\n            name: 'Egor',\r\n            avatar: 'https://yt3.ggpht.com/a/AGF-l7-srgkU3DPDpJ3s4fbvtKEtjcwBCutQKEzhrg=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            about: \"Date of Birth: 18.01.2000\" +\r\n                \"City: Ekb\" +\r\n                \"Education: no\" +\r\n                \"Web site: http://localhost:3000/\",\r\n            id: 4,\r\n            name: 'Misha',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyhQ0K_72pi3UTnWlg_Qlv9j1emfsOkfN6I8Xeq=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            about: \"Date of Birth: 10.15.2000\" +\r\n                \"City: Ekb\" +\r\n                \"Education: ys\" +\r\n                \"Web site: http/alhost:3000/\",\r\n            id: 5,\r\n            name: 'Dasha',\r\n            avatar: 'https://st3.depositphotos.com/1007566/12723/v/950/depositphotos_127231368-stock-illustration-young-woman-avatar-isolated-icon.jpg'\r\n        },\r\n        {\r\n            about: \"Date of Birth: 00.00.0000\" +\r\n                \"City: 22ffsdab\" +\r\n                \"Education: yefsdgsgs\" +\r\n                \"Web site: http://localhost:3000/\",\r\n            id: 6,\r\n            name: 'Sveta',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyHhJhL7jlNs4cErQ_cte2UvLEUIXxdJ7QRiPMFXQ=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            about: \"Date of Birth: 21.02.1900\" +\r\n                \"City: Ekb\" +\r\n                \"Education: prob\" +\r\n                \"Web site: http://localhost:3000/\",\r\n            id: 7,\r\n            name: 'Roma',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyW1vysJ_RqafTPb-TGMBCUxT5W8t31nqId9Q=s900-c-k-c0xffffffff-no-rj-mo'\r\n        }\r\n    ],\r\n    posts: [\r\n        {postId: 2, message: 'Hi, how old r u?', likesCount: 12},\r\n        {postId: 1, message: 'Hi, how old r u22?', likesCount: 14}\r\n    ],\r\n    userPage: '',\r\n    statusText: ['']\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [{postId: 3, likesCount: 0, message: action.postText}, ...state.posts]\r\n            };\r\n        }\r\n            ;\r\n        case\r\n        SET_USER_PAGE: {\r\n            return {...state, userPage: action.userPage};\r\n        }\r\n            ;\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.postId !== action.userId)\r\n            };\r\n        }\r\n        case\r\n        SET_STATUS_TEXT: {\r\n            return {\r\n                ...state,\r\n                statusText: action.statusText\r\n            };\r\n        }\r\n        case\r\n        SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                userPage: {...state.userPage, photos: action.photos}\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (text) => ({type: ADD_POST, postText: text});\r\nexport const deletePost = (userId) => ({type: DELETE_POST, userId});\r\nexport const setUserProfile = (userPage) => ({type: 'SET_USER_PAGE', userPage: userPage});\r\nexport const setStatus = (statusText) => ({type: 'SET_STATUS_TEXT', statusText});\r\nexport const savePhotoSuccess = (photos) => ({type: 'SAVE_PHOTO_SUCCESS', photos});\r\n\r\nexport const profileThunk = (userId) => async (dispatch) => {\r\n    let response = await   API.profile(userId)\r\n            dispatch(setUserProfile(response.data));\r\n\r\n}\r\n\r\nexport const getStatusThunk = (userId) => async (dispatch) => {\r\n      const response = await  profileAPI.getStatus(userId);\r\n            dispatch(setStatus(response.data))\r\n\r\n}\r\nexport const updateStatusThunk = (statusText) => async (dispatch) => {\r\n    let response = await profileAPI.profileStatus(statusText)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(statusText))\r\n    }\r\n}\r\n\r\nexport const saveAvatar = (file) => async (dispatch) => {\r\n    let response = await profileAPI.saveAvatar(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (values) => async (dispatch, getState) => {\r\n   const userId = getState().auth.id\r\n    let response = await profileAPI.changeProfileData(values)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(profileThunk(userId))\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","import {API} from \"../components/API/Api\";\r\n\r\nconst TOGGLE_FOLLOW = 'TOGGLE-FOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_ACTIVE_PAGE = 'SET_ACTIVE_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 3,\r\n    totalUsersCount: 0,\r\n    activePage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: !u.followed}\r\n                    }\r\n\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_ACTIVE_PAGE: {\r\n            return {...state, activePage: action.activePage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case 'TOGGLE_FOLLOWING_IN_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n\r\n    }\r\n}\r\n\r\nexport const toggleFollow = (userId) => ({type: 'TOGGLE-FOLLOW', userId});\r\nexport const setUsers = (users) => ({type: 'SET_USERS', users});\r\nexport const setActivePage = (activePage) => ({type: 'SET_ACTIVE_PAGE', activePage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: 'SET_TOTAL_USERS_COUNT', totalCount: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: 'TOGGLE_IS_FETCHING', isFetching})\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n    type: 'TOGGLE_FOLLOWING_IN_PROGRESS',\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const getUsers = (activePage, pageSize, isAuth) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    let data = await API.getUsers(activePage, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, actionCreator, apiMethod) => {\r\n\r\n    dispatch(toggleFollowingInProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId))\r\n\r\n}\r\n\r\nexport const unfollowThunk = (userId) => async (dispatch) => {\r\n\r\n    followUnfollow(dispatch, userId, toggleFollow, API.unfollow.bind(userId));\r\n}\r\n\r\nexport const followThunk = (userId) => async (dispatch) => {\r\n\r\n    followUnfollow(dispatch, userId, toggleFollow, API.follow.bind(userId));\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n","import React from \"react\";\r\nimport preloader from '../../assets/images/preloader.svg'\r\nimport s from \"../Users/Users.module.css\";\r\n\r\nlet Preloader = (props) => {\r\n\r\n    return (\r\n            <div className={s.preloader}>\r\n                <img src={preloader} />\r\n            </div>\r\n\r\n\r\n        )\r\n        }\r\n\r\n\r\n\r\n        export default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__2TSRj\",\"preloader\":\"Users_preloader__gmD4_\",\"object\":\"Users_object__2kHVt\",\"left\":\"Users_left__2pgeM\",\"div\":\"Users_div__aSU38\",\"selectedPage\":\"Users_selectedPage__1TR0p\",\"pageNumbers\":\"Users_pageNumbers__FfQ68\",\"pageNumber\":\"Users_pageNumber__UIAMu\",\"user\":\"Users_user__toEuS\",\"h1\":\"Users_h1__2DDtF\",\"right\":\"Users_right__g4XlV\",\"idNumber\":\"Users_idNumber__16kw_\",\"isFriend\":\"Users_isFriend__3vkx5\",\"name\":\"Users_name__3qcLj\",\"status\":\"Users_status__m0i4T\",\"button\":\"Users_button__3ezKP\",\"button1\":\"Users_button1__eCrsa\"};","\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Oleg', avatar: 'https://cdn1.flamp.ru/8a8f2449872d85ea3d69cd0839aa35da.jpg'},\r\n        {id: 2, name: 'Kolya', avatar: 'https://cdn1.flamp.ru/cfdf66132b3994cd538e328a62eca0d8.jpg'},\r\n        {\r\n            id: 3,\r\n            name: 'Egor',\r\n            avatar: 'https://yt3.ggpht.com/a/AGF-l7-srgkU3DPDpJ3s4fbvtKEtjcwBCutQKEzhrg=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Misha',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyhQ0K_72pi3UTnWlg_Qlv9j1emfsOkfN6I8Xeq=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Dasha',\r\n            avatar: 'https://st3.depositphotos.com/1007566/12723/v/950/depositphotos_127231368-stock-illustration-young-woman-avatar-isolated-icon.jpg'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Sveta',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyHhJhL7jlNs4cErQ_cte2UvLEUIXxdJ7QRiPMFXQ=s900-c-k-c0xffffffff-no-rj-mo'\r\n        },\r\n        {\r\n            id: 7,\r\n            name: 'Roma',\r\n            avatar: 'https://yt3.ggpht.com/a/AATXAJyW1vysJ_RqafTPb-TGMBCUxT5W8t31nqId9Q=s900-c-k-c0xffffffff-no-rj-mo'\r\n        }\r\n    ], messages: [\r\n        {id: 'i', message: 'Hi, how old r u?'},\r\n        {id: 'f', message: 'Hi, how old r u?'},\r\n        {id: 'i', message: '1840932 lmao 420blaze it'},\r\n        {id: 'f', message: '1840932 lmao 420bla'},\r\n        {id: 'f', message: 'Hi, how old r u?'},\r\n        {id: 'i', message: '1840932 lmao 420blaze it'},\r\n        {id: 'f', message: '1840932 lmao 420bla'},\r\n        {id: 'f', message: 'Hi, how old r u?'},\r\n        {id: 'i', message: '1840932 lmao 420blaze it'},\r\n        {id: 'f', message: '1840932 lmao 420bla'}\r\n    ]}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"ADD-MESSAGE\" :{\r\n\r\n            return{\r\n                ...state,\r\n                messages: [...state.messages, {id:'i', message: action.text}]\r\n            }\r\n    }\r\n        default:\r\n            let stateCopy = {...state}\r\n            return stateCopy\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const addMessageCreator = (text) =>({type:'ADD-MESSAGE', text});\r\n\r\n\r\nexport default dialogsReducer"],"sourceRoot":""}